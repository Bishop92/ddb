
<html><head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta content="text/javascript" http-equiv="content-script-type">
<title>db</title>
<link rel="stylesheet" type="text/css" href="candydoc/style.css">
<!--[if lt IE 7]><link rel="stylesheet" type="text/css" href="candydoc/ie56hack.css"><![endif]-->
<script language="JavaScript" src="candydoc/util.js" type="text/javascript"></script>
<script language="JavaScript" src="candydoc/tree.js" type="text/javascript"></script>
<script language="JavaScript" src="candydoc/explorer.js" type="text/javascript"></script>
</head><body>
<div id="tabarea"></div><div id="explorerclient"></div>
<div id="content"><script>explorer.initialize("db");</script>
	<table class="content">
		<tr><td id="docbody"><h1>db</h1><!-- Generated by Ddoc from db.d -->
<br><br>

<script>explorer.outline.incSymbolLevel();</script>
<dl>
<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">struct 
<span class="currsymbol">DBRow</span>
<script>explorer.outline.addDecl('DBRow');</script>

(Specs...);
</span></dt>
<script>explorer.outline.writeEnabled = false;</script>


<dd>Data row returned from database servers.
<br><br>

<span class="currsymbol">DBRow</span>
<script>explorer.outline.addDecl('DBRow');</script>

 may be instantiated with any number of arguments. It subtypes base type which
depends on that number:
<br><br>

<table>   <tr><th>Number of arguments</th> <th>Base type</th></tr>
    <tr><td>0</td> <td>Variant[]</td></tr>
    <tr><td>1</td> <td>Specs itself, more precisely Specs[0]</td></tr>
    <tr><td>&gt;= 2</td> <td>Tuple!Specs</td></tr>
</table>

<br><br>
<b>Examples:</b><br>
Default untyped DBRow:
<pre class="d_code"><u>DBRow</u>!() row1;
<u>DBRow</u>!(Variant[]) row2;

<font color=blue>assert</font>(<font color=blue>is</font>(<font color=blue>typeof</font>(row1.base == row2.base)));
</pre>
DBRow with only one field:
<pre class="d_code"><u>DBRow</u>!<font color=blue>int</font> row;
row = 10;
row += 1;
<font color=blue>assert</font>(row == 11);

<u>DBRow</u>!Variant untypedRow;
untypedRow = 10;
</pre>
DBRow with more than one field:
<pre class="d_code"><font color=blue>struct</font> S { <font color=blue>int</font> i; string s; }
<font color=blue>alias</font> Tuple!(<font color=blue>int</font>, <font color=red>"i"</font>, string, <font color=red>"s"</font>) TS;

<font color=green>// all three rows are compatible
</font><u>DBRow</u>!S row1;
<u>DBRow</u>!TS row2;
<u>DBRow</u>!(<font color=blue>int</font>, <font color=red>"i"</font>, string, <font color=red>"s"</font>) row3;

row1.i = row2.i = row3.i = 10;
row1.s = row2.s = row3.s = <font color=red>"abc"</font>;

<font color=green>// these two rows are also compatible
</font><u>DBRow</u>!(<font color=blue>int</font>, <font color=blue>int</font>) row4;
<u>DBRow</u>!(<font color=blue>int</font>[2]) row5;

row4[0] = row5[0] = 10;
row4[1] = row5[1] = 20;
</pre>
Advanced example:
<pre class="d_code"><font color=blue>enum</font> Axis { x, y, z }
<font color=blue>struct</font> SubRow1 { string s; <font color=blue>int</font>[] nums; <font color=blue>int</font> num; }
<font color=blue>alias</font> Tuple!(<font color=blue>int</font>, <font color=red>"num"</font>, string, <font color=red>"s"</font>) SubRow2;
<font color=blue>struct</font> Row { SubRow1 left; SubRow2[] right; Axis axis; string text; }

<font color=blue>auto</font> cmd = <font color=blue>new</font> PGCommand(conn, <font color=red>"SELECT ROW('text', ARRAY[1, 2, 3], 100),
                                ARRAY[ROW(1, 'str'), ROW(2, 'aab')], 'x', 'anotherText'"</font>);

<font color=blue>auto</font> row = cmd.executeRow!Row;

<font color=blue>assert</font>(row.left.s == <font color=red>"text"</font>);
<font color=blue>assert</font>(row.left.nums == [1, 2, 3]);
<font color=blue>assert</font>(row.left.num == 100);
<font color=blue>assert</font>(row.right[0].num == 1 &amp;&amp; row.right[0].s == <font color=red>"str"</font>);
<font color=blue>assert</font>(row.right[1].num == 2 &amp;&amp; row.right[1].s == <font color=red>"aab"</font>);
<font color=blue>assert</font>(row.axis == Axis.x);
<font color=blue>assert</font>(row.s == <font color=red>"anotherText"</font>);
</pre>
<br><br>

</dd>

<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">template 
<span class="currsymbol">isCompositeType</span>
<script>explorer.outline.addDecl('isCompositeType');</script>

(T)</span></dt>
<script>explorer.outline.writeEnabled = false;</script>


<dd>Check if type is a composite.
<br><br>
Composite is a type with static number of fields. These types are:
<ul>   <li>Tuples</li>
    <li>structs</li>
    <li>static arrays</li>
</ul><br><br>

</dd>
</dl>
<script>explorer.outline.decSymbolLevel();</script>


</td></tr>
		<tr><td id="docfooter">
			Page was generated with
			<img src="candydoc/img/candydoc.gif" style="vertical-align:middle; position:relative; top:-1px">
			on Fri Apr  1 18:09:56 2011

		</td></tr>
	</table>
</div>
<script>
    explorer.packageExplorer.addModule(".db"); 
    explorer.packageExplorer.addModule(".postgres"); </script>
</body></html>


