
<html><head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta content="text/javascript" http-equiv="content-script-type">
<title>postgres</title>
<link rel="stylesheet" type="text/css" href="candydoc/style.css">
<!--[if lt IE 7]><link rel="stylesheet" type="text/css" href="candydoc/ie56hack.css"><![endif]-->
<script language="JavaScript" src="candydoc/util.js" type="text/javascript"></script>
<script language="JavaScript" src="candydoc/tree.js" type="text/javascript"></script>
<script language="JavaScript" src="candydoc/explorer.js" type="text/javascript"></script>
</head><body>
<div id="tabarea"></div><div id="explorerclient"></div>
<div id="content"><script>explorer.initialize("postgres");</script>
	<table class="content">
		<tr><td id="docbody"><h1>postgres</h1><!-- Generated by Ddoc from postgres.d -->
<br><br>

<script>explorer.outline.incSymbolLevel();</script>
<dl>
<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">class 
<span class="currsymbol">ServerErrorException</span>
<script>explorer.outline.addDecl('ServerErrorException');</script>

: object.Exception;
</span></dt>
<script>explorer.outline.writeEnabled = false;</script>


<dd>Exception thrown on server error<br><br>


<script>explorer.outline.incSymbolLevel();</script>
<dl>
<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">ResponseMessage 
<span class="currsymbol">error</span>
<script>explorer.outline.addDecl('error');</script>

;
</span></dt>
<script>explorer.outline.writeEnabled = false;</script>


<dd>Contains information about this error. Aliased to this.<br><br>

</dd>
</dl>
<script>explorer.outline.decSymbolLevel();</script>


</dd>

<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">class 
<span class="currsymbol">ResponseMessage</span>
<script>explorer.outline.addDecl('ResponseMessage');</script>

;
</span></dt>
<script>explorer.outline.writeEnabled = false;</script>


<dd>Class encapsulating errors and notices.
<br><br>
This class provides access to fields of ErrorResponse and NoticeResponse
sent by the server. More information about these fields can be found
<a href="http://www.postgresql.org/docs/9.0/static/protocol-error-fields.html">here</a>.<br><br>


<script>explorer.outline.incSymbolLevel();</script>
<dl>
<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">string 
<span class="currsymbol">severity</span>
<script>explorer.outline.addDecl('severity');</script>

();
<br>string 
<span class="currsymbol">code</span>
<script>explorer.outline.addDecl('code');</script>

();
<br>string 
<span class="currsymbol">message</span>
<script>explorer.outline.addDecl('message');</script>

();
<br>string 
<span class="currsymbol">detail</span>
<script>explorer.outline.addDecl('detail');</script>

();
<br>string 
<span class="currsymbol">hint</span>
<script>explorer.outline.addDecl('hint');</script>

();
<br>string 
<span class="currsymbol">position</span>
<script>explorer.outline.addDecl('position');</script>

();
<br>string 
<span class="currsymbol">internalPosition</span>
<script>explorer.outline.addDecl('internalPosition');</script>

();
<br>string 
<span class="currsymbol">internalQuery</span>
<script>explorer.outline.addDecl('internalQuery');</script>

();
<br>string 
<span class="currsymbol">where</span>
<script>explorer.outline.addDecl('where');</script>

();
<br>string 
<span class="currsymbol">file</span>
<script>explorer.outline.addDecl('file');</script>

();
<br>string 
<span class="currsymbol">line</span>
<script>explorer.outline.addDecl('line');</script>

();
<br>string 
<span class="currsymbol">routine</span>
<script>explorer.outline.addDecl('routine');</script>

();
</span></dt>
<script>explorer.outline.writeEnabled = false;</script>


<dd>Message fields<br><br>

</dd>

<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">string 
<span class="currsymbol">toString</span>
<script>explorer.outline.addDecl('toString');</script>

();
</span></dt>
<script>explorer.outline.writeEnabled = false;</script>


<dd>Returns summary of this message using the most common fields (severity,
    code, message, detail, hint)<br><br>

</dd>
</dl>
<script>explorer.outline.decSymbolLevel();</script>


</dd>

<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">class 
<span class="currsymbol">PGConnection</span>
<script>explorer.outline.addDecl('PGConnection');</script>

;
</span></dt>
<script>explorer.outline.writeEnabled = false;</script>


<dd>Class representing connection to PostgreSQL server.<br><br>


<script>explorer.outline.incSymbolLevel();</script>
<dl>
<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">void 
<span class="currsymbol">open</span>
<script>explorer.outline.addDecl('open');</script>

(const string[string] <span class="funcparam">params</span>);
</span></dt>
<script>explorer.outline.writeEnabled = false;</script>


<dd>Opens connection to server.
<br><br>
<b>Params:</b><br>
<table><tr>
<td nowrap valign="top" style="padding-right: 8px">string[string] <span class="funcparam">params</span></td>

               
<td>Associative array of string keys and values.
<br><br>

        Currently recognized parameters are:
        <ul>           <li>host - Host name or IP address of the server. Required.</li>
            <li>port - Port number of the server. Defaults to 5432.</li>
            <li>user - The database user. Required.</li>
            <li>database - The database to connect to. Defaults to the user name.</li>
            <li>options - Command-line arguments for the backend. (This is deprecated in favor of setting individual run-time parameters.)</li>
        </ul>
<br><br>

        In addition to the above, any run-time parameter that can be set at backend start time might be listed.
        Such settings will be applied during backend start (after parsing the command-line options if any).
        The values will act as session defaults.</td></tr>
</table><br>
<b>Examples:</b><br>
<pre class="d_code">        <font color=blue>auto</font> conn = <font color=blue>new</font> PGConnection;
        conn.<u>open</u>([
            <font color=red>"host"</font> : <font color=red>"localhost"</font>,
            <font color=red>"database"</font> : <font color=red>"test"</font>,
            <font color=red>"user"</font> : <font color=red>"postgres"</font>,
            <font color=red>"password"</font> : <font color=red>"postgres"</font>
        ]);
</pre>
<br><br>

</dd>

<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">void 
<span class="currsymbol">close</span>
<script>explorer.outline.addDecl('close');</script>

();
</span></dt>
<script>explorer.outline.writeEnabled = false;</script>


<dd>Closes current connection to the server.<br><br>

</dd>

<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">ulong 
<span class="currsymbol">executeNonQuery</span>
<script>explorer.outline.addDecl('executeNonQuery');</script>

(string <span class="funcparam">query</span>);
<br>PGResultSet!(Specs) 
<span class="currsymbol">executeQuery</span>
<script>explorer.outline.addDecl('executeQuery');</script>

(Specs...)(string <span class="funcparam">query</span>);
<br>DBRow!(Specs) 
<span class="currsymbol">executeRow</span>
<script>explorer.outline.addDecl('executeRow');</script>

(Specs...)(string <span class="funcparam">query</span>, throwIfMoreRows = true);
<br>T 
<span class="currsymbol">executeScalar</span>
<script>explorer.outline.addDecl('executeScalar');</script>

(T)(string <span class="funcparam">query</span>, throwIfMoreRows = true);
</span></dt>
<script>explorer.outline.writeEnabled = false;</script>


<dd>Shorthand methods using temporary PGCommand. Semantics is the same as PGCommand's.<br><br>

</dd>
</dl>
<script>explorer.outline.decSymbolLevel();</script>


</dd>

<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">class 
<span class="currsymbol">PGParameter</span>
<script>explorer.outline.addDecl('PGParameter');</script>

;
</span></dt>
<script>explorer.outline.writeEnabled = false;</script>


<dd>Class representing single query parameter<br><br>


<script>explorer.outline.incSymbolLevel();</script>
<dl>
<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">Variant 
<span class="currsymbol">value</span>
<script>explorer.outline.addDecl('value');</script>

();
<br>Variant 
<span class="currsymbol">value</span>
<script>explorer.outline.addDecl('value');</script>

(Variant <span class="funcparam">v</span>);
</span></dt>
<script>explorer.outline.writeEnabled = false;</script>


<dd>Value bound to this parameter<br><br>

</dd>
</dl>
<script>explorer.outline.decSymbolLevel();</script>


</dd>

<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">class 
<span class="currsymbol">PGParameters</span>
<script>explorer.outline.addDecl('PGParameters');</script>

;
</span></dt>
<script>explorer.outline.writeEnabled = false;</script>


<dd>Collection of query parameters<br><br>


<script>explorer.outline.incSymbolLevel();</script>
<dl>
<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">short 
<span class="currsymbol">length</span>
<script>explorer.outline.addDecl('length');</script>

();
</span></dt>
<script>explorer.outline.writeEnabled = false;</script>


<dd><br><br>
</dd>

<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">PGParameter 
<span class="currsymbol">add</span>
<script>explorer.outline.addDecl('add');</script>

(short <span class="funcparam">index</span>, PGType <span class="funcparam">type</span>);
</span></dt>
<script>explorer.outline.writeEnabled = false;</script>


<dd>Creates and returns new parameter.
<br><br>
<b>Examples:</b><br>
<pre class="d_code">    <font color=green>// without spaces between $ and number
</font>    <font color=blue>auto</font> cmd = <font color=blue>new</font> PGCommand(conn, <font color=red>"INSERT INTO users (name, surname) VALUES ($ 1, $ 2)"</font>);
    cmd.parameters.<u>add</u>(1, PGType.text).value = <font color=red>"John"</font>;
    cmd.parameters.<u>add</u>(2, PGType.text).value = <font color=red>"Doe"</font>;

    <font color=blue>assert</font>(cmd.executeNonQuery == 1);
</pre>
<br><br>

</dd>
</dl>
<script>explorer.outline.decSymbolLevel();</script>


</dd>

<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">alias 
<span class="currsymbol">PGFields</span>
<script>explorer.outline.addDecl('PGFields');</script>

;
</span></dt>
<script>explorer.outline.writeEnabled = false;</script>


<dd>Array of fields returned by the server<br><br>

</dd>

<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">struct 
<span class="currsymbol">PGField</span>
<script>explorer.outline.addDecl('PGField');</script>

;
</span></dt>
<script>explorer.outline.writeEnabled = false;</script>


<dd>Contains information about fields returned by the server<br><br>


<script>explorer.outline.incSymbolLevel();</script>
<dl>
<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">string 
<span class="currsymbol">name</span>
<script>explorer.outline.addDecl('name');</script>

;
</span></dt>
<script>explorer.outline.writeEnabled = false;</script>


<dd>The field 
<span class="currsymbol">name</span>
<script>explorer.outline.addDecl('name');</script>

.<br><br>

</dd>

<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">uint 
<span class="currsymbol">tableOid</span>
<script>explorer.outline.addDecl('tableOid');</script>

;
</span></dt>
<script>explorer.outline.writeEnabled = false;</script>


<dd>If the field can be identified as a column of a specific table, the object ID of the table; otherwise zero.<br><br>

</dd>

<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">short 
<span class="currsymbol">index</span>
<script>explorer.outline.addDecl('index');</script>

;
</span></dt>
<script>explorer.outline.writeEnabled = false;</script>


<dd>If the field can be identified as a column of a specific table, the attribute number of the column; otherwise zero.<br><br>

</dd>

<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">uint 
<span class="currsymbol">oid</span>
<script>explorer.outline.addDecl('oid');</script>

;
</span></dt>
<script>explorer.outline.writeEnabled = false;</script>


<dd>The object ID of the field's data type.<br><br>

</dd>

<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">short 
<span class="currsymbol">typlen</span>
<script>explorer.outline.addDecl('typlen');</script>

;
</span></dt>
<script>explorer.outline.writeEnabled = false;</script>


<dd>The data type size (see pg_type.
<span class="currsymbol">typlen</span>
<script>explorer.outline.addDecl('typlen');</script>

). Note that negative values denote variable-width types.<br><br>

</dd>

<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">int 
<span class="currsymbol">modifier</span>
<script>explorer.outline.addDecl('modifier');</script>

;
</span></dt>
<script>explorer.outline.writeEnabled = false;</script>


<dd>The type 
<span class="currsymbol">modifier</span>
<script>explorer.outline.addDecl('modifier');</script>

 (see pg_attribute.atttypmod). The meaning of the 
<span class="currsymbol">modifier</span>
<script>explorer.outline.addDecl('modifier');</script>

 is type-specific.<br><br>

</dd>
</dl>
<script>explorer.outline.decSymbolLevel();</script>


</dd>

<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">class 
<span class="currsymbol">PGCommand</span>
<script>explorer.outline.addDecl('PGCommand');</script>

;
</span></dt>
<script>explorer.outline.writeEnabled = false;</script>


<dd>Class encapsulating prepared or non-prepared statements (commands).<br><br>


<script>explorer.outline.incSymbolLevel();</script>
<dl>
<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">PGParameters 
<span class="currsymbol">parameters</span>
<script>explorer.outline.addDecl('parameters');</script>

();
</span></dt>
<script>explorer.outline.writeEnabled = false;</script>


<dd>List of 
<span class="currsymbol">parameters</span>
<script>explorer.outline.addDecl('parameters');</script>

 bound to this command<br><br>

</dd>

<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">PGFields 
<span class="currsymbol">fields</span>
<script>explorer.outline.addDecl('fields');</script>

();
</span></dt>
<script>explorer.outline.writeEnabled = false;</script>


<dd>List of 
<span class="currsymbol">fields</span>
<script>explorer.outline.addDecl('fields');</script>

 that will be returned from the server. Available after successful call to bind().<br><br>

</dd>

<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">bool 
<span class="currsymbol">isQuery</span>
<script>explorer.outline.addDecl('isQuery');</script>

();
</span></dt>
<script>explorer.outline.writeEnabled = false;</script>


<dd>Checks if this is query or non query command. Available after successful call to bind().
<br><br>
<b>Returns:</b><br>
<b>true</b> if server returns at least one field (column). Otherwise <b>false</b>.<br><br>

</dd>

<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">bool 
<span class="currsymbol">isPrepared</span>
<script>explorer.outline.addDecl('isPrepared');</script>

();
</span></dt>
<script>explorer.outline.writeEnabled = false;</script>


<dd><b>Returns:</b><br>
<b>true</b> if command is currently prepared, otherwise <b>false</b>.<br><br>

</dd>

<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">string 
<span class="currsymbol">query</span>
<script>explorer.outline.addDecl('query');</script>

();
<br>string 
<span class="currsymbol">query</span>
<script>explorer.outline.addDecl('query');</script>

(string 
<span class="currsymbol">query</span>
<script>explorer.outline.addDecl('query');</script>

);
</span></dt>
<script>explorer.outline.writeEnabled = false;</script>


<dd>Query assigned to this command.<br><br>

</dd>

<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">uint 
<span class="currsymbol">lastInsertOid</span>
<script>explorer.outline.addDecl('lastInsertOid');</script>

();
</span></dt>
<script>explorer.outline.writeEnabled = false;</script>


<dd><br><br>
</dd>

<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">void 
<span class="currsymbol">prepare</span>
<script>explorer.outline.addDecl('prepare');</script>

();
</span></dt>
<script>explorer.outline.writeEnabled = false;</script>


<dd>Prepare this statement, i.e. cache query plan.<br><br>

</dd>

<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">void 
<span class="currsymbol">unprepare</span>
<script>explorer.outline.addDecl('unprepare');</script>

();
</span></dt>
<script>explorer.outline.writeEnabled = false;</script>


<dd>Unprepare this statement. Goes back to normal query planning.<br><br>

</dd>

<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">void 
<span class="currsymbol">bind</span>
<script>explorer.outline.addDecl('bind');</script>

();
</span></dt>
<script>explorer.outline.writeEnabled = false;</script>


<dd>Binds values to parameters and updates list of returned fields.
<br><br>
This is normally done automatically, but it may be useful to check what fields
    would be returned from a query, before executing it.<br><br>

</dd>

<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">ulong 
<span class="currsymbol">executeNonQuery</span>
<script>explorer.outline.addDecl('executeNonQuery');</script>

();
</span></dt>
<script>explorer.outline.writeEnabled = false;</script>


<dd>Executes a non query command, i.e. query which doesn't return any rows. Commonly used with
    data manipulation commands, such as INSERT, UPDATE and DELETE.
<br><br>
<b>Examples:</b><br>
<pre class="d_code">    <font color=blue>auto</font> cmd = <font color=blue>new</font> PGCommand(conn, <font color=red>"DELETE * FROM table"</font>);
    <font color=blue>auto</font> deletedRows = cmd.<u>executeNonQuery</u>;
    cmd.query = <font color=red>"UPDATE table SET quantity = 1 WHERE price &gt; 100"</font>;
    <font color=blue>auto</font> updatedRows = cmd.<u>executeNonQuery</u>;
    cmd.query = <font color=red>"INSERT INTO table VALUES(1, 50)"</font>;
    <font color=blue>assert</font>(cmd.<u>executeNonQuery</u> == 1);
</pre>
<br><br>
<b>Returns:</b><br>
Number of affected rows.<br><br>

</dd>

<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">PGResultSet!(Specs) 
<span class="currsymbol">executeQuery</span>
<script>explorer.outline.addDecl('executeQuery');</script>

(Specs...)();
</span></dt>
<script>explorer.outline.writeEnabled = false;</script>


<dd>Executes query which returns row sets, such as SELECT command.
<br><br>
<b>Params:</b><br>
<table><tr>
<td nowrap valign="top" style="padding-right: 8px">bufferedRows</td>

               
<td>Number of rows that may be allocated at the same time.</td></tr>
</table><br>
<b>Returns:</b><br>
InputRange of DBRow!Specs.<br><br>

</dd>

<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">DBRow!(Specs) 
<span class="currsymbol">executeRow</span>
<script>explorer.outline.addDecl('executeRow');</script>

(Specs...)(throwIfMoreRows = true);
</span></dt>
<script>explorer.outline.writeEnabled = false;</script>


<dd>Executes query and returns only first row of the result.
<br><br>
<b>Params:</b><br>
<table><tr>
<td nowrap valign="top" style="padding-right: 8px">throwIfMoreRows</td>

               
<td>If <b>true</b>, throws Exception when result contains more than one row.</td></tr>
</table><br>
<b>Examples:</b><br>
<pre class="d_code">    <font color=blue>auto</font> cmd = <font color=blue>new</font> PGCommand(conn, <font color=red>"SELECT 1, 'abc'"</font>);
    <font color=blue>auto</font> row1 = cmd.<u>executeRow</u>!(<font color=blue>int</font>, string); <font color=green>// returns DBRow!(int, string)
</font>    <font color=blue>assert</font>(<font color=blue>is</font>(<font color=blue>typeof</font>(i[0]) == <font color=blue>int</font>) &amp;&amp; <font color=blue>is</font>(<font color=blue>typeof</font>(i[1]) == string));
    <font color=blue>auto</font> row2 = cmd.<u>executeRow</u>; <font color=green>// returns DBRow!(Variant[])
</font></pre>
<br><br>
<b>Throws:</b><br>
Exception if result doesn't contain any rows or field count do not match.
<br><br>
<b>Throws:</b><br>
Exception if result contains more than one row when throwIfMoreRows is <b>true</b>.<br><br>

</dd>

<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">T 
<span class="currsymbol">executeScalar</span>
<script>explorer.outline.addDecl('executeScalar');</script>

(T = Variant)(bool <span class="funcparam">throwIfMoreRows</span> = true);
</span></dt>
<script>explorer.outline.writeEnabled = false;</script>


<dd>Executes query returning exactly one row and field. By default, returns Variant type.
<br><br>
<b>Params:</b><br>
<table><tr>
<td nowrap valign="top" style="padding-right: 8px">throwIfMoreRows</td>

               
<td>If <b>true</b>, throws Exception when result contains more than one row.</td></tr>
</table><br>
<b>Examples:</b><br>
<pre class="d_code">    <font color=blue>auto</font> cmd = <font color=blue>new</font> PGCommand(conn, <font color=red>"SELECT 1"</font>);
    <font color=blue>auto</font> i = cmd.<u>executeScalar</u>!<font color=blue>int</font>; <font color=green>// returns int
</font>    <font color=blue>assert</font>(<font color=blue>is</font>(<font color=blue>typeof</font>(i) == <font color=blue>int</font>));
    <font color=blue>auto</font> v = cmd.<u>executeScalar</u>; <font color=green>// returns Variant
</font></pre>
<br><br>
<b>Throws:</b><br>
Exception if result doesn't contain any rows or if it contains more than one field.
<br><br>
<b>Throws:</b><br>
Exception if result contains more than one row when throwIfMoreRows is <b>true</b>.<br><br>

</dd>
</dl>
<script>explorer.outline.decSymbolLevel();</script>


</dd>

<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">class 
<span class="currsymbol">PGResultSet</span>
<script>explorer.outline.addDecl('PGResultSet');</script>

(Specs...);
</span></dt>
<script>explorer.outline.writeEnabled = false;</script>


<dd>Input range of DBRow!Specs<br><br>


<script>explorer.outline.incSymbolLevel();</script>
<dl>
<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">void 
<span class="currsymbol">close</span>
<script>explorer.outline.addDecl('close');</script>

();
</span></dt>
<script>explorer.outline.writeEnabled = false;</script>


<dd>Closes current result set. It must be closed before issuing another query on the same connection.<br><br>

</dd>
</dl>
<script>explorer.outline.decSymbolLevel();</script>


</dd>
</dl>
<script>explorer.outline.decSymbolLevel();</script>


</td></tr>
		<tr><td id="docfooter">
			Page was generated with
			<img src="candydoc/img/candydoc.gif" style="vertical-align:middle; position:relative; top:-1px">
			on Fri Apr  1 18:09:56 2011

		</td></tr>
	</table>
</div>
<script>
    explorer.packageExplorer.addModule(".db"); 
    explorer.packageExplorer.addModule(".postgres"); </script>
</body></html>


